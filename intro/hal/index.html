<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>HAL - MATRIX</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="MATRIX">
    <meta property="og:image" content="None/../../">
    <meta name="apple-mobile-web-app-title" content="MATRIX">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-a422ff04cc.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../../styles.css">
    
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Supporting Libraries <i class="icon icon-link"></i>
              
            
          </span>
        
        HAL
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="/" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          MATRIX
          <span class="version">
            
          </span>
        </strong>
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="../..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Getting Started" href="../install/">
      Getting Started
    </a>
    
  </li>

          
            
  <li>
    <span class="section">OS</span>
    <ul>
      
        
  <li>
    <span class="section">Apps</span>
    <ul>
      
        
  <li>
    <a class="" title="Overview" href="../../API/overview/">
      Overview
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="GPIO" href="../../API/gpio/">
      GPIO
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Sensors" href="../../API/sensors/">
      Sensors
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Filters" href="../../API/filter/">
      Filters
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Microphone" href="../../API/microphone/">
      Microphone
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="IR TX/RX" href="../../API/ir/">
      IR TX/RX
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Everloop" href="../../API/everloop/">
      Everloop
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="NFC" href="../../API/nfc/">
      NFC
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Z-wave" href="../../API/zwave/">
      Z-wave
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Zigbee" href="../../API/zigbee/">
      Zigbee
    </a>
    
  </li>

      
    </ul>
  </li>

      
        
  <li>
    <span class="section">Config</span>
    <ul>
      
        
  <li>
    <a class="" title="Overview" href="../../Configuration/overview/">
      Overview
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Screens" href="../../Configuration/screens/">
      Screens
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Datatypes" href="../../Configuration/datatypes/">
      Datatypes
    </a>
    
  </li>

      
    </ul>
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">CLI</span>
    <ul>
      
        
  <li>
    <a class="" title="Overview" href="../../CLI/overview/">
      Overview
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Apps" href="../../CLI/apps/">
      Apps
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Examples" href="../../CLI/example/">
      Examples
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Hardware</span>
    <ul>
      
        
  <li>
    <a class="" title="FPGA" href="../../Hardware/fpga/">
      FPGA
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="SAM3" href="../../Hardware/Sam3/">
      SAM3
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="SAM3MCU" href="../../Hardware/sam3mcu-programming/">
      SAM3MCU
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Supporting Libraries</span>
    <ul>
      
        
  <li>
    <a class="current" title="HAL" href="./">
      HAL
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Hardware Abstraction Layer" href="#hardware-abstraction-layer">
                Hardware Abstraction Layer
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="MALOS" href="../malos/">
      MALOS
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Reference</span>
    <ul>
      
        
  <li>
    <a class="" title="Overview" href="../../Reference/overview/">
      Overview
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Pinout" href="../../Reference/pinout/">
      Pinout
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>HAL</h1>
          
          <h3 id="hardware-abstraction-layer">Hardware Abstraction Layer</h3>
<p>With the following instructions you will be able to run demos for the Everloop LED Array and for the IMU. These demos make use of the <a href="https://github.com/matrix-io/matrix-creator-hal/tree/master/cpp/driver">hardware abstraction layer</a>.</p>
<p><img alt="Matrix Creator" src="http://packages.matrix.one/wiki-images/general-assets/hand-small.png" /></p>
<p>If you followed the <a href="../install">getting started</a> steps the <a href="../../Hardware/fpga">FPGA</a> and the <a href="../../Hardware/sam3mcu-programming">SAM3 MCU</a> should be programmed and ready. Also, <a href="../enable-spi">SPI should have been enabled for you</a>.</p>
<p>Thus you can just get the required source code and build it:</p>
<pre><code>git clone https://github.com/matrix-io/matrix-creator-hal.git
cd matrix-creator-hal
mkdir build &amp;&amp; cd build
cmake .. &amp;&amp; make
</code></pre>
<p>If the project built with no issues you can run the demos. The demos run for ever, you can terminate them with Control+C.</p>
<p>Spinning leds ( <a href="https://www.youtube.com/watch?v=0cEtEyCdVI4">video</a> ):</p>
<pre><code>demos/everloop_demo
</code></pre>
<p>Arc demo ( <a href="https://www.youtube.com/watch?v=1UFFT1JSw4Q">video</a> ) :</p>
<pre><code>demos/arc_demo
</code></pre>
<p>Compass demo:</p>
<pre><code>demos/compass_demo

yaw = -116.006  roll = 3.19588  pitch = 0.370596
yaw = -116.577  roll = 3.61794  pitch = 0.210613
yaw = -115.649  roll = 3.64227  pitch = 0.334733
yaw = -115.468  roll = 3.34762  pitch = 0.42658
yaw = -116.423  roll = 3.49536  pitch = 0.566351
</code></pre>
<p>Microphones:</p>
<pre><code>demos/mic_demo

52  29  54  74  74  49  39  60
60  31  52  46  41  55  68  70
60  44  55  43  53  68  62  62
45  17  69  54  18  38  74  67

(You get one value for each microphone)
</code></pre>
<p>Questions? Post them on <a href="http://raspberrypi.stackexchange.com">raspberrypi.stackexchange.com</a>! Use the tag #matrix-creator</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../../Hardware/sam3mcu-programming/" title="SAM3MCU">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                SAM3MCU
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../malos/" title="MALOS">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                MALOS
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = '';
    </script>
    <script src="../../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>